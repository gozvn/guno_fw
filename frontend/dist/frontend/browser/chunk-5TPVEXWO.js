import{b as Ae}from"./chunk-HDVTBRPG.js";import{a as Be}from"./chunk-NQOY33G3.js";import{b as Ne}from"./chunk-KLVANESB.js";import{e as Pe}from"./chunk-YCX5PDJM.js";import{a as We}from"./chunk-6AMBXUQL.js";import{b as ke}from"./chunk-HW6NCLFS.js";import{a as Me,b as Ie}from"./chunk-VD7526WH.js";import{a as Oe}from"./chunk-ASVI2MGW.js";import{r as Ee,s as Te,t as je}from"./chunk-L6F77YVF.js";import{$ as ce,F as ie,H as ne,Ia as be,J as ae,Ja as he,Ka as Se,La as we,Ma as xe,N as re,T as oe,U as me,W as pe,_ as le,ba as se,c as $,da as de,gb as ye,ha as ue,ib as Re,jb as Ce,kb as _e,l as ee,lb as De,na as ve,o as te,oa as fe,pa as ge,q as A}from"./chunk-72SSQTOY.js";import{Ab as G,Ac as U,Da as w,Ea as x,Fb as y,Hc as l,Ic as c,Ja as Y,Jb as M,Kb as f,Lb as H,Ub as i,Vb as t,Wb as u,_b as q,bc as z,dc as j,f as F,gc as I,ha as V,ia as h,jd as J,ma as T,mb as n,nb as v,od as K,pc as Q,pd as X,qc as p,rc as g,sa as W,sc as b,ta as S,u as L,vc as k,wc as P,wd as R,xc as O,xd as Z}from"./chunk-7KMJWKAM.js";import{g as Ve}from"./chunk-WWX6BADO.js";var N=Ve(We());var C=class r{constructor(s,a){this.http=s;this.backendService=a}apiServerPaths=De.backendServer.paths;dataBigIdea=new F;generate(s){let a=this.apiServerPaths.report.overview.dashboard,m={params:{encryptParam:!0},headers:{Accept:"application/json"}};for(let e in s)switch(e){default:m.params[e]=s[e]}return this.backendService.get(a,m,L(e=>(console.log(e),e.data)))}static \u0275fac=function(a){return new(a||r)(T($),T(Ee))};static \u0275prov=V({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ge=()=>["/"];function He(r,s){if(r&1&&(i(0,"span",41),p(1),l(2,"number"),t()),r&2){let a=j(2).$implicit;n(),g(c(2,1,a.count))}}function qe(r,s){if(r&1&&(i(0,"div",37)(1,"mat-icon"),u(2,"i-tabler",38),t()(),i(3,"div",39),p(4),l(5,"translate"),y(6,He,3,3,"span",40),t()),r&2){let a=j().$implicit;n(2),I("name",a.icon),n(2),b("",c(5,3,"reports.common.labels."+a.name)," "),n(2),f("ngIf",a.count)}}function ze(r,s){r&1&&(i(0,"mat-tab"),y(1,qe,7,5,"ng-template",36),t())}var _=class r extends je{constructor(a,m,e,o,E,d){super(a,m,e,o);this.activeRoute=a;this.translateService=m;this.authenticationService=e;this.injector=o;this.location=E;this.revenueService=d;this.tabs.forEach(Le=>{this.tabsStats[Le]=0})}selectedTabIndex=0;tab="revenue";tabs=["revenue","expense","customer"];tabsStatues={to_ship:["AWAITING_SHIPMENT","AWAITING_COLLECTION"],shipped:["IN_TRANSIT","DELIVERED"]};tabsStats=[];type="revenue";types=[{name:"revenue",color:"#bf932b",icon:"coin",count:0},{name:"expense",color:"#5b8ad7",icon:"message-dollar",count:0},{name:"customer",color:"#2d864d",icon:"users-group",count:0}];totalRevenue=0;totalOrders=0;totalSources=0;ngOnInit(){super.ngOnInit(),this.search()}onTabChange(a){if(!this.loadingState){switch(this.tab=this.tabs[a.index],this.tab){}this.pageIndex=0,this.currentPage=1}}search(a=!0){this.widgetLoadingState=!0;let m={page:this.currentPage,limit:this.pageSize,fd:(0,N.default)(this.startDate).format("YYYY-MM-DD"),td:(0,N.default)(this.endDate).format("YYYY-MM-DD")};this.revenueService.generate(m).subscribe(o=>{this.totalRevenue=o?.overview?.totalRevenue??0,this.totalOrders=o?.overview?.totalOrders??0,this.totalSources=o?.details?.length??0});let e=[];for(let o in m)o!=="loadingState"&&e[o]!==""&&e[o]!==null&&e.push(o+"="+m[o]);this.location.replaceState("/reports/overview/revenue",e.join("&"))}static \u0275fac=function(m){return new(m||r)(v(ee),v(Re),v(Te),v(Y),v(J),v(C))};static \u0275cmp=W({type:r,selectors:[["app-reports-page-overview"]],features:[G],decls:69,vars:37,consts:[["picker",""],[1,"bg-white","rounded","p-20","m-b-10"],[1,"row"],[1,"col-sm-8"],[1,"page-title","m-0","f-s-18","f-w-600"],[1,"col-sm-4","text-right"],[1,"d-flex","align-items-center","justify-content-start","justify-content-lg-end"],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"text-body-color",3,"routerLink"],["name","circle-filled",1,"icon-8"],[1,"breadcrumb-item","active"],[1,"rounded-sm","p-x-8","p-y-4","text-primary","bg-light-primary","f-s-12","f-w-500"],["mat-stretch-tabs","false","animationDuration","0ms",1,"theme-tab","label-padding"],[4,"ngFor","ngForOf"],["appearance","outline",1,"theme-select","m-r-10","d-flex","m-t-10","input-height-46"],[3,"rangePicker"],["matStartDate","","readonly","",3,"ngModelChange","placeholder","ngModel"],["matEndDate","","readonly","",3,"ngModelChange","placeholder","ngModel"],["matIconSuffix","",3,"for"],["mat-mini-fab","","color","primary m-t-12",1,"d-flex",3,"click"],["data-icon","solar:refresh-bold",1,"iconify","icon-20","d-flex"],[1,"cardWithShadow"],[1,"table-xs-responsive"],[1,"row","flex-nowrap"],[1,"col"],[1,"shadow-none","text-center","success-gt","shadow-none","m-b-0"],[1,"p-32"],[1,"icon-48","m-auto","m-b-16","d-flex","align-items-center","justify-content-center","rounded","bg-success"],[1,"iconify","text-white","icon-27"],[1,"mat-subtitle-2","f-s-14","f-w-400","text-dark","text-nowrap"],[1,"m-t-4","mat-subtitle-1","f-s-22","f-w-600","m-b-16"],[1,"shadow-none","text-center","warning-gt","shadow-none","m-b-0"],[1,"icon-48","m-auto","m-b-16","d-flex","align-items-center","justify-content-center","rounded","bg-warning"],[1,"shadow-none","text-center","accent-gt","shadow-none","m-b-0"],[1,"icon-48","m-auto","m-b-16","d-flex","align-items-center","justify-content-center","rounded","bg-accent"],["mat-tab-label",""],[1,"d-flex","align-items-center","m-r-8"],[3,"name"],[1,"p-t-4","text-uppercase"],["class","bg-dark-200 text-white rounded-sm p-x-8 p-y-4 f-w-500 f-s-12 m-l-4",4,"ngIf"],[1,"bg-dark-200","text-white","rounded-sm","p-x-8","p-y-4","f-w-500","f-s-12","m-l-4"]],template:function(m,e){if(m&1){let o=q();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),p(4),l(5,"translate"),t()(),i(6,"div",5)(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),p(11),l(12,"translate"),t()(),i(13,"li",8),u(14,"i-tabler",10),t(),i(15,"li",11)(16,"span",12),p(17),l(18,"translate"),t()()()()()()(),i(19,"div",2)(20,"mat-tab-group",13),y(21,ze,2,0,"mat-tab",14),t(),i(22,"mat-form-field",15)(23,"mat-label"),p(24),l(25,"translate"),t(),i(26,"mat-date-range-input",16)(27,"input",17),l(28,"translate"),O("ngModelChange",function(d){return w(o),P(e.startDate,d)||(e.startDate=d),x(d)}),t(),i(29,"input",18),l(30,"translate"),O("ngModelChange",function(d){return w(o),P(e.endDate,d)||(e.endDate=d),x(d)}),t()(),u(31,"mat-datepicker-toggle",19)(32,"mat-date-range-picker",null,0),t(),i(34,"button",20),z("click",function(){return w(o),x(e.search())}),u(35,"i",21),t()(),i(36,"mat-card",22)(37,"mat-card-content")(38,"div",23)(39,"div",24)(40,"div",25)(41,"mat-card",26)(42,"mat-card-content",27)(43,"span",28),u(44,"span",29),t(),i(45,"span",30),p(46,"T\u1ED5ng doanh thu"),t(),i(47,"h6",31),p(48),l(49,"number"),t()()()(),i(50,"div",25)(51,"mat-card",32)(52,"mat-card-content",27)(53,"span",33),u(54,"span",29),t(),i(55,"span",30),p(56,"\u0110\u01A1n h\xE0ng"),t(),i(57,"h6",31),p(58),l(59,"number"),t()()()(),i(60,"div",25)(61,"mat-card",34)(62,"mat-card-content",27)(63,"span",35),u(64,"span",29),t(),i(65,"span",30),p(66,"Ngu\u1ED3n"),t(),i(67,"h6",31),p(68),t()()()()()()()()}if(m&2){let o=Q(33);n(4),b(" ",c(5,20,"reports.overview.title")," "),n(6),f("routerLink",U(36,Ge)),n(),g(c(12,22,"labels.reports")),n(6),b(" ",c(18,24,"reports.overview.title")," "),n(4),f("ngForOf",e.types),n(),H("width",250,"px"),n(2),g(c(25,26,"labels.selectDate")),n(2),f("rangePicker",o),n(),I("placeholder",c(28,28,"labels.startDate")),k("ngModel",e.startDate),n(2),I("placeholder",c(30,30,"labels.endDate")),k("ngModel",e.endDate),n(2),f("for",o),n(13),M("data-icon","solar:dollar-minimalistic-linear"),n(4),b("",c(49,32,e.totalRevenue)," \u20AB"),n(6),M("data-icon","solar:cart-check-outline"),n(4),g(c(59,34,e.totalOrders)),n(6),M("data-icon","solar:link-circle-bold"),n(4),g(e.totalSources)}},dependencies:[K,X,ne,ae,re,te,ie,ce,pe,le,ue,se,de,ve,fe,ge,be,we,he,Se,xe,Me,R,Ce],styles:[".theme-tab.label-padding .mat-mdc-tab-labels{padding:10px 15px 20px}  .theme-tab.job-tabs .mat-mdc-tab-labels{padding:0!important}  .theme-tab.job-tabs .mat-mdc-card-content{padding-left:0}"]})};var Qe=[{path:"overview/revenue",component:_,data:{title:"reports.overview.title"},canActivate:[Oe,Be]}],D=class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=S({type:r});static \u0275inj=h({imports:[A.forChild(Qe),A]})};var Fe=class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=S({type:r});static \u0275inj=h({providers:[R],imports:[Z,oe,me,D,ye,Pe,Ne.forChild(),_e,Ie,ke,Ae.forRoot()]})};export{Fe as ReportsModule};
